syntax = "proto3";

package geovision;

import "model/osint.proto";
import "google/api/annotations.proto";

option go_package = "github.com/bouncingmaxt/omniscent-library/gen/go/geovision;geovision";

// SourceService provides operations for managing sources
service SourceService {
  rpc GetSource(GetSourceRequest) returns (GetSourceResponse) {
    option (google.api.http) = {
      get: "/v1/sources/{id}"
    };
  }

  rpc CreateSource(CreateSourceRequest) returns (CreateSourceResponse) {
    option (google.api.http) = {
      post: "/v1/sources"
      body: "source"
    };
  }

  rpc UpdateSource(UpdateSourceRequest) returns (UpdateSourceResponse) {
    option (google.api.http) = {
      put: "/v1/sources/{id}"
      body: "source"
    };
  }

  rpc DeleteSource(DeleteSourceRequest) returns (DeleteSourceResponse) {
    option (google.api.http) = {
      delete: "/v1/sources/{id}"
    };
  }
}

// Source messages
message GetSourceRequest {
  string id = 1;
}

message GetSourceResponse {
  model.Source source = 1;
}

message CreateSourceRequest {
  model.Source source = 1;
}

message CreateSourceResponse {
  model.Source source = 1;
}

message UpdateSourceRequest {
  string id = 1;
  model.Source source = 2;
}

message UpdateSourceResponse {
  model.Source source = 1;
}

message DeleteSourceRequest {
  string id = 1;
}

message DeleteSourceResponse {
  bool success = 1;
}
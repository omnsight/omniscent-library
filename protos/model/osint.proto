syntax = "proto3";

package model;

import "model/common.proto";

option go_package = "github.com/bouncingmaxt/omniscent-library/gen/go/model;model";

message Relation {
  // Common data
  // @gotags: valid:"_id"
  string id = 1;
  
  // @gotags: json:"_key,omitempty"
  string key = 2;
  // @gotags: json:"_from,omitempty"
  string from = 3;
  // @gotags: json:"_to,omitempty"
  string to = 4;
  // @gotags: json:"_rev,omitempty"
  string rev = 5;
  // Main Data
  string name = 10;
  // @gotags: json:"confidence,omitempty"
  int32 confidence = 11;
  map<string, Value> attributes = 12;
  // Time data
  // @gotags: json:"created_at,omitempty"
  int64 created_at = 20;
  // @gotags: json:"updated_at,omitempty"
  int64 updated_at = 21;

  message Value {
    oneof kind {
      // @gotags: json:"string_value,omitempty"
      string string_value = 1;
      // @gotags: json:"int_value,omitempty"
      int64 int_value = 2;
      // @gotags: json:"double_value,omitempty"
      double double_value = 3;
      // @gotags: json:"float_value,omitempty"
      float float_value = 4;
      // @gotags: json:"bool_value,omitempty"
      bool bool_value = 5;
    }
  }
}

message Event {
  // Common data
  // @gotags: json:"_id,omitempty"
  string id = 1;
  // @gotags: json:"_key,omitempty"
  string key = 2;
  // @gotags: json:"_rev,omitempty"
  string rev = 3;
  bool visible = 4;
  // Main Data
  LocationData location = 10;
  string title = 11;
  string description = 12;
  // Time data
  // @gotags: json:"happened_at,omitempty"
  int64 happened_at = 20;
  // @gotags: json:"updated_at,omitempty"
  int64 updated_at = 21;
  // Additional
  repeated string tags = 30;
}

message Source {
  // Common data
  // @gotags: json:"_id,omitempty"
  string id = 1;
  // @gotags: json:"_key,omitempty"
  string key = 2;
  // @gotags: json:"_rev,omitempty"
  string rev = 3;
  bool visible = 4;
  // Main Data
  string name = 10;
  string url = 11;
  // @gotags: json:"root_url,omitempty"
  string root_url = 12;
  int32 reliability = 13;
  int32 monitoring = 14;
  // Time data
  // @gotags: json:"created_at,omitempty"
  int64 created_at = 20;
  // @gotags: json:"updated_at,omitempty"
  int64 updated_at = 21;
  // Additional
  repeated string tags = 30;
}

message Person {
  // Common data
  // @gotags: json:"_id,omitempty"
  string id = 1;
  // @gotags: json:"_key,omitempty"
  string key = 2;
  // @gotags: json:"_rev,omitempty"
  string rev = 3;
  bool visible = 4;
  // Main Data
  string name = 10;
  string role = 11;
  string nationality = 12;
  // Time data
  // @gotags: json:"birth_date,omitempty"
  int64 birth_date = 20;
  // @gotags: json:"updated_at,omitempty"
  int64 updated_at = 21;
  // Additional
  repeated string tags = 30;
  repeated string aliases = 31;
}

message Organization {
  // Common data
  // @gotags: json:"_id,omitempty"
  string id = 1;
  // @gotags: json:"_key,omitempty"
  string key = 2;
  // @gotags: json:"_rev,omitempty"
  string rev = 3;
  bool visible = 4;
  // Main Data
  string name = 10;
  string type = 11;
  // Time data
  // @gotags: json:"founded_at,omitempty"
  int64 founded_at = 20;
  // @gotags: json:"discovered_at,omitempty"
  int64 discovered_at = 21;
  // @gotags: json:"last_visited,omitempty"
  int64 last_visited = 22;
  // Additional
  repeated string tags = 30;
}

message Website {
  // Common data
  // @gotags: json:"_id,omitempty"
  string id = 1;
  // @gotags: json:"_key,omitempty"
  string key = 2;
  // @gotags: json:"_rev,omitempty"
  string rev = 3;
  bool visible = 4;
  // Main Data
  string url = 10;
  string domain = 11;
  string title = 12;
  string description = 13;
  // Time data
  // @gotags: json:"founded_at,omitempty"
  int64 founded_at = 20;
  // @gotags: json:"discovered_at,omitempty"
  int64 discovered_at = 21;
  // @gotags: json:"last_visited,omitempty"
  int64 last_visited = 22;
  // Additional
  repeated string tags = 30;
}